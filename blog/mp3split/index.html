<!doctype html><html lang=en><head><meta charset=utf-8><meta name=color-scheme content="dark"><meta name=viewport content="width=device-width,initial-scale=1"><title>mp3split: a simple shell script for splitting mp3 audio files - Diego Sánchez Portfolio</title><meta name=description content="mp3split simple shell script for splitting mp3 audio files"><meta property="og:description" content="mp3split simple shell script for splitting mp3 audio files"><meta name=author content="Diego Sánchez"><meta name=generator content="Hugo 0.74.3"><meta property="og:title" content="mp3split: a simple shell script for splitting mp3 audio files"><meta property="og:url" content="https://diegosanchezp.github.io/blog/mp3split/"><meta property="og:type" content="article"><meta property="og:image" content="https://diegosanchezp.github.io/blog/mp3split/mp3splitBanner.png"><meta property="og:image:alt" content="mp3split banner"><meta property="twitter:image:alt" content="mp3split banner"><link rel=stylesheet href=/css/main.min.9e13f9bd94ec17a1ebe82e04b7e9636bfb44d0cdbbd730ede9cf7443f64c380d.css integrity=sha256-nhP5vZTsF6Hr6C4Et+lja/tE0M271zDt6c90Q/ZMOA0=><script defer src=/js/bundle.min.b0bed07aac2f87b15e1a792df36cb0f1dd4facb7963b42c8a3f24fa76f22e329.js></script><link rel=stylesheet href=https://diegosanchezp.github.io/css/pages/blog.min.c59d8be1aace968dfee7c3da5f63e5957aae311d9f6e387548e6fd69a19542ed.css integrity=sha256-xZ2L4arOlo3+58PaX2PllXquMR2fbjh1SOb9aaGVQu0=></head><body id=blog-body><aside id=sidenav class="sidenav flex flex-col p-2 md:h-full lg:h-full xl:h-full border border-solid border-lightwhite overflow-y-auto sm:overflow-x-auto"><section class="sidenav-profile flex flex-col sm:flex-row justify-center sm:justify-center"><img class="lg:w-full sm:w-16 sm:h-16 sm:rounded-sm md:w-auto xl:mb-2 lg:mb-2 md:center-block-hor" src=/Images/ProfilePic.jpg alt="Profile Picture"><div class="self-center sm:self-center md:self-center md:mt-2"><p class="text-center uppercase text-primary">Diego Sánchez</p><p class="ml-2 sm:ml-2 md:ml-2 text-center">Full Stack Web Developer</p></div></section><section class="flex flex-col sm:flex-row sm:justify-center sm:flex-wrap md:justify-center justify-center my-2"><hr><a class="font-medium
sidebar-nav-item
relative py-2 rounded px-2" href=/ title="Home page">Home<div class=rippleJS></div></a><hr><a class="font-medium
sidebar-nav-item
relative py-2 rounded px-2" href=/academics/ title="Academics page">Academics<div class=rippleJS></div></a><hr><a class="font-medium
sidebar-nav-item
relative py-2 rounded px-2" href=/blog/ title="Blog page">Blog<div class=rippleJS></div></a><hr><a class="font-medium
sidebar-nav-item
relative py-2 rounded px-2" href=/certifications/ title="Certifications page">Certifications<div class=rippleJS></div></a><hr><a class="font-medium
sidebar-nav-item
relative py-2 rounded px-2" href=/projects/ title="Projects page">Projects<div class=rippleJS></div></a></section><div class="sm:flex sm:justify-center"><section class="sidenav-icons flex justify-around max-w-full justify-center sm:justify-center md:justify-center"><div><img id=envelope src=/svgs/solid/envelope.svg alt=envelope-icon></div><a rel=noopener href=https://github.com/diegosanchezp/ title="Github Account" target=_blank><img src=/svgs/brands/github.svg alt=github-icon></a>
<a rel=noopener href=https://www.linkedin.com/in/diego-s%C3%A1nchez-b0753b137/ title="LinkedIn Profile" target=_blank><img src=/svgs/brands/linkedin.svg alt=linkedin-icon></a></section><section class=sm:ml-3></section></div><dialog id=email-dialog class="bg-primary text-black"><p>Send me an email at</p><p class="text-center text-bold">diegosandmg@gmail.com</p><div class="flex justify-end"><button id=close-email-dialog class="btn-yellow relative hover:bg-secondary hover:text-primary">
Ok<div class=rippleJS></div></button></div></dialog></aside><section id=post-title class=smmd:p-2><h1 class=sm:text-center>mp3split: a simple shell script for splitting mp3 audio files</h1><time datetime="2020-09-13 00:00:00 +0000 UTC">September 13, 2020</time><div class="flex my-2"><a href=/categories/linux/ class="border bord-white p-1 font-bold capitalize border-solid mr-2">Linux</a></div></section><main id=post-content class="xl:text-xl lg:text-lg md:text-lg smmd:p-2"><figure><img src=/blog/mp3split/mp3splitBanner.png alt="mp3split banner"></figure><h2 id=introduction>Introduction</h2><p>Downloading mp3 files these days or converting a music video to an mp3 file for later offline playback hasn&rsquo;t been easier these days with programs like <a class=a-markdown href=https://rg3.github.io/youtube-dl/ target=_blank rel=noopener>youtube-dl</a>
and other alike.</p><p>For example if you liked a music mix in youtube, lets say, a &lsquo;<a class=a-markdown href="https://www.youtube.com/watch?v=WI4-HUn8dFc" target=_blank rel=noopener>
syntwave mix</a>
&rsquo; for your programming sessions and you have downloaded it with one the programs mentioned above, you now have a single mp3 file. But what happens if you didn&rsquo;t like a song in the mix ? Well at first you might think you can&rsquo;t do anything about it, because how you do delete that one annoying song and keep the rest ?</p><p>The solution to that problem is to split the single mp3 file into many more mp3 files and of course delete the one you don&rsquo;t want to keep.</p><p>To begin splitting the mp3 file we would need the time where each song starts i.e timestamps. Many of those music mixes found in youtube give in the video description a &lsquo;tracklist&rsquo; which is primarily compose of a timestamp and the name of the song.</p><p>For example, the one found in the <a class=a-markdown href="https://www.youtube.com/watch?v=WI4-HUn8dFc" target=_blank rel=noopener>syntwave mix</a></p><pre><code>0:00 Xtract - Audiotool Day 2016
3:55 Alison - space echo
7:25 Volt Age - Volt's Theme 
13:12 Lucy in Disguise - Southbound 
18:05 Lucy in Disguise - Echoes In Time
23:15 HOME - Flood
26:53 De Lorra/Augustus Wright - Let Us 
31:09 bl00dwave - Encounters
33:51 Emil Rottmayer - T.I.M.E ( Part 2 )
40:12 oDDling - Early Bird
43:22 hello meteor - at last light
</code></pre><p>We could do the splitting manually with ffmpeg, but it would take a lot of time. Today I present to you <code>mp3split</code> a simple shell script to aid you in the process of splitting large mp3 files with the help of tracklist and a single dependency <code>ffmpeg</code>.</p><h2 id=usage-example>Usage example</h2><p>To get started, install the script running the following commands.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>wget https://raw.githubusercontent.com/diegosanchezp/mp3split/master/mp3split.sh -O ~/.local/bin/mp3split <span style=color:#f92672>&amp;&amp;</span> chmod <span style=color:#ae81ff>755</span> ~/.local/bin/mp3split
</code></pre></div><p>This will put the shell script in the folder <code>~/.local/bin/</code> and can be accessed via terminal as a binary file.</p><p>Run <code>mp3split -h</code> to test if the program is installed.</p><p>The script takes as input an mp3 file and a tracklist like the one above.</p><p>To walk you trough the usage I have downloaded the <a class=a-markdown href="https://www.youtube.com/watch?v=WI4-HUn8dFc" target=_blank rel=noopener>syntwave mix</a>
with <code>youtube-dl</code>, rename it to <code>testsong.mp3</code> and put the tracklist in a text file named <code>tracklist.txt</code>.</p><p>If you want to split <code>testsong.mp3</code> automatically, run</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mp3split testsong.mp3 tracklist.txt
</code></pre></div><p>It will output information about the created split files to <code>stdout</code></p><pre><code>=== Begin to create mp3 split files ===
Processed 0:00 to 3:55; Xtract - Audiotool Day 2016.mp3
Processed 3:55 to 7:25; Alison - space echo.mp3
Processed 7:25 to 13:12; Volt Age - Volt's Theme.mp3
Processed 13:12 to 18:05; Lucy in Disguise - Southbound.mp3
Processed 18:05 to 23:15; Lucy in Disguise - Echoes In Time.mp3
Processed 23:15 to 26:53; HOME - Flood.mp3
De Lorra/Augustus Wright - Let Us.mp3: No such file or directory
Processed 26:53 to 31:09; De Lorra/Augustus Wright - Let Us.mp3
Processed 31:09 to 33:51; bl00dwave - Encounters.mp3
Processed 33:51 to 40:12; Emil Rottmayer - T.I.M.E ( Part 2 ).mp3
Processed 40:12 to 43:22; oDDling - Early Bird.mp3
Processed 43:22 to 0:45:55.680000; hello meteor - at last light.mp3
</code></pre><p>Let&rsquo;s list what files have created it.</p><pre><code>3,1M	Alison - space echo.mp3
2,4M	bl00dwave - Encounters.mp3
5,8M	Emil Rottmayer - T.I.M.E ( Part 2 ).mp3
1,5M	hello meteor - at last light.mp3
3,4M	HOME - Flood.mp3
4,9M	Lucy in Disguise - Echoes In Time.mp3
5,2M	Lucy in Disguise - Southbound.mp3
3,1M	oDDling - Early Bird.mp3
5,3M	Volt Age - Volt's Theme.mp3
3,5M	Xtract - Audiotool Day 2016.mp3
</code></pre><p>As you can see a file is missing <code>De Lorra/Augustus Wright</code></p><p><code>ffmpeg</code> throws the following error.</p><pre><code>De Lorra/Augustus Wright - Let Us.mp3: No such file or directory
</code></pre><p>What happened here? <code>ffmpeg</code> the program that helps to create the splits, interpreted the filename as directory followed by a name, you might want to fix it by substituting the <code>/</code> by a another character.</p><p>To end the article, I&rsquo;d have to say that you could also apply this idea of splitting with audio books.</p><p>Thanks for reading.</p><h2 id=useful-links>Useful links</h2><p><a class=a-markdown href=https://github.com/diegosanchezp/mp3split/ target=_blank rel=noopener>Source code repository with detailed documentation</a></p></main><aside id=tableofcontents><b>Table of contents</b><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#usage-example>Usage example</a></li><li><a href=#useful-links>Useful links</a></li></ul></nav></aside><nav id=quick-nav class=bg-primary><button>
<a href=#post-content>Begining</a></button>
<button>
<a href=#tableofcontents>TableOfContents</a></button>
<button>
<a href=#sidenav>Sidenav</a></button></nav></body></html>